@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700;800&display=swap');
@import "tailwindcss";

:root {
  --tf-font-heading: "Space Grotesk", "Avenir Next", "Segoe UI", sans-serif;
  /* Global accent currently uses an indigo palette. */
  --tf-accent-50: #eef2ff;
  --tf-accent-100: #e0e7ff;
  --tf-accent-200: #c7d2fe;
  --tf-accent-300: #a5b4fc;
  --tf-accent-400: #818cf8;
  --tf-accent-500: #6366f1;
  --tf-accent-600: #4f46e5;
  --tf-accent-700: #4338ca;
  --tf-accent-800: #3730a3;
  --tf-accent-900: #312e81;
  --tf-accent-950: #1e1b4b;
  --tf-accent-rgb: 79 70 229;

  --tf-primary: var(--tf-accent-600);
  --tf-primary-hover: var(--tf-accent-700);
  --tf-primary-soft: var(--tf-accent-50);
  --tf-primary-muted: var(--tf-accent-100);
  --tf-primary-border: var(--tf-accent-200);
  --tf-primary-strong: var(--tf-accent-800);
  --tf-primary-contrast: #ffffff;
  --tf-primary-glow-sm: rgb(var(--tf-accent-rgb) / 0.2);
  --tf-primary-glow-md: rgb(var(--tf-accent-rgb) / 0.28);
}

@theme inline {
  --color-accent-50: var(--tf-accent-50);
  --color-accent-100: var(--tf-accent-100);
  --color-accent-200: var(--tf-accent-200);
  --color-accent-300: var(--tf-accent-300);
  --color-accent-400: var(--tf-accent-400);
  --color-accent-500: var(--tf-accent-500);
  --color-accent-600: var(--tf-accent-600);
  --color-accent-700: var(--tf-accent-700);
  --color-accent-800: var(--tf-accent-800);
  --color-accent-900: var(--tf-accent-900);
  --color-accent-950: var(--tf-accent-950);

  --color-primary: var(--tf-primary);
  --color-primary-hover: var(--tf-primary-hover);
  --color-primary-soft: var(--tf-primary-soft);
  --color-primary-muted: var(--tf-primary-muted);
  --color-primary-border: var(--tf-primary-border);
  --color-primary-strong: var(--tf-primary-strong);
  --color-primary-contrast: var(--tf-primary-contrast);
}

@utility shadow-accent-glow-sm {
  box-shadow: 0 0 16px var(--tf-primary-glow-sm);
}

@utility shadow-accent-glow-md {
  box-shadow: 0 0 34px var(--tf-primary-glow-md);
}

input[type="checkbox"] {
  accent-color: var(--tf-accent-500);
}

h1,
h2,
h3,
h4,
h5,
h6,
.font-heading {
  font-family: var(--tf-font-heading);
  letter-spacing: -0.015em;
}

/* ── Scroll-driven animations ── */

@keyframes scroll-fade-up {
  from {
    opacity: 0;
    transform: translateY(32px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scroll-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes scroll-scale-in {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes scroll-blur-in {
  from {
    opacity: 0;
    filter: blur(8px);
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
  }
}

@keyframes scroll-slide-left {
  from {
    opacity: 0;
    transform: translateX(-48px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scroll-slide-right {
  from {
    opacity: 0;
    transform: translateX(48px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes hero-entrance {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes hand-drawn-zigzag {
  from {
    stroke-dashoffset: 360;
    opacity: 0;
  }
  5% {
    opacity: 1;
  }
  to {
    stroke-dashoffset: 0;
    opacity: 1;
  }
}

.hand-drawn-zigzag {
  stroke-dasharray: 360;
  stroke-dashoffset: 360;
  opacity: 0;
  animation: hand-drawn-zigzag 1s cubic-bezier(0.25, 1, 0.5, 1) 0.9s forwards;
}

@keyframes marquee-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-50%);
  }
}

@keyframes float-gentle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@utility animate-scroll-fade-up {
  animation: scroll-fade-up ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 35%;
}

@utility animate-scroll-fade-in {
  animation: scroll-fade-in ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 35%;
}

@utility animate-scroll-scale-in {
  animation: scroll-scale-in ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 35%;
}

@utility animate-scroll-blur-in {
  animation: scroll-blur-in ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 40%;
}

@utility animate-scroll-slide-left {
  animation: scroll-slide-left ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 35%;
}

@utility animate-scroll-slide-right {
  animation: scroll-slide-right ease-out both;
  animation-timeline: view();
  animation-range: entry 0% entry 35%;
}

@utility animate-hero-entrance {
  animation: hero-entrance 0.8s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@utility animate-hero-stagger {
  animation: hero-entrance 0.7s cubic-bezier(0.16, 1, 0.3, 1) both;
  animation-delay: var(--stagger, 0ms);
}

@utility animate-marquee {
  animation: marquee-scroll var(--marquee-duration, 40s) linear infinite;
}

@utility animate-float {
  animation: float-gentle 3s ease-in-out infinite;
  animation-delay: var(--float-delay, 0ms);
}

@keyframes content-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@utility animate-content-fade-in {
  animation: content-fade-in 0.25s ease-out both;
}

@utility scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* ── Reading progress indicator (scroll-driven) ── */

@keyframes reading-progress {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

.reading-progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: var(--tf-accent-500);
  transform-origin: 0 50%;
  transform: scaleX(0);
  animation: reading-progress linear both;
  animation-timeline: scroll(root);
  z-index: 9999;
}

@utility glass-card {
  background: rgb(255 255 255 / 0.7);
  backdrop-filter: blur(16px);
  border: 1px solid rgb(255 255 255 / 0.5);
}

/* ── View Transitions ── */

@keyframes vt-slide-out {
  to {
    opacity: 0;
    transform: translateY(-8px) scale(0.98);
  }
}

@keyframes vt-slide-in {
  from {
    opacity: 0;
    transform: translateY(12px) scale(0.99);
  }
}

::view-transition-old(root) {
  animation: vt-slide-out 0.15s cubic-bezier(0.4, 0, 1, 1) both;
}

::view-transition-new(root) {
  animation: vt-slide-in 0.2s cubic-bezier(0, 0, 0.2, 1) 0.08s both;
}

/* Keep the header static during transitions */
::view-transition-group(site-header) {
  animation: none;
}

::view-transition-old(site-header),
::view-transition-new(site-header) {
  animation: none;
  mix-blend-mode: normal;
}
